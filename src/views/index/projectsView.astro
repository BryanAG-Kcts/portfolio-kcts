---
import { getCollection } from 'astro:content'
import kctsground from '@/assets/images/kctsground.png'
import scripta from '@/assets/images/scripta.png'
import sk from '@/assets/images/sk.png'
import ProjectCard from '@/components/projects/projectCard.astro'
import type { Languages } from '@/interfaces/i18n'
import SectionLayout from '@/layout/sectionLayout.astro'
import WidthLayout from '@/layout/widthLayout.astro'

interface Props {
  lang: Languages
}

const { lang } = Astro.props
const [projects] = await getCollection('projects', ({ slug }) => slug === lang)

const [kctsgroundProject, scriptaProject, skProject] = projects.data.projects
---

<WidthLayout size="xl">
  <SectionLayout title={projects.body} sub={projects.data.sub}>
    <section id="projects" class="flex flex-col gap-10 lg:flex-row">
      <ProjectCard
        title={skProject.title}
        image={sk}
        description={skProject.body}
        skills={skProject.skills}
      />
      <div class="flex flex-col gap-10 md:flex-row lg:flex-col flex-1">
        <ProjectCard
          title={scriptaProject.title}
          image={scripta}
          description={scriptaProject.body}
          skills={scriptaProject.skills}
        />
        <ProjectCard
          title={kctsgroundProject.title}
          image={kctsground}
          description={kctsgroundProject.body}
          skills={kctsgroundProject.skills}
        />
      </div>
    </section>
  </SectionLayout>
</WidthLayout>

<script>
  import { yScrollFadeIn } from '@/constants/animation/scrollFadeIn'
  yScrollFadeIn('.project-card', 1)
</script>
